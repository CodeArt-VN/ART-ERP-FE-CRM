<div class="main-view">
	<div class="row-full shadow full-screen ion-padding">
		<ion-grid fixed>
			<app-page-message [itemsLength]="1" [showSpinner]="pageConfig.showSpinner"></app-page-message>
			<form [formGroup]="formGroup" *ngIf="!pageConfig.showSpinner">
				<!-- General -->
				<ion-row class="hr-group">
					<ion-col size="12" size-sm="12" size-md="12" size-xl="3">
						<ion-list-header class="ion-no-padding">
							<ion-label color="primary">{{ 'General' | translate }}</ion-label>
						</ion-list-header>
					</ion-col>
					<ion-col size="12" size-sm="6" size-xl="4">
						<app-form-control
							(change)="loadPutawayAndAllocationStrategy(); saveChange()"
							[field]="{
								branchConfig: { showingType: 'Warehouse' },
								id: 'IDWarehouse',
								label: 'Warehouse',
								type: 'ng-select-branch',
								dataSource: branchList,
								bindLabel: 'Name',
								bindValue: 'Id',
								placeholder: 'Search',
								form: formGroup,
							}"
						>
						</app-form-control>
					</ion-col>
					<ion-col size="12" size-sm="6" size-xl="4">
						<app-form-control [field]="{ id: 'StandardCarrierAlphaCode', form: formGroup }" (change)="saveChange()"> </app-form-control>
						<app-form-control [field]="{ id: 'CreditLimit', type: 'number', form: formGroup }" (change)="saveChange()"> </app-form-control>
						<app-form-control
							(change)="saveChange()"
							[field]="{
								id: 'IDCartonGroup',
								label: 'Carton group',
								type: 'ng-select',
								dataSource: cartonGroupList,
								form: formGroup,
							}"
						>
						</app-form-control>
					</ion-col>
				</ion-row>

				<!-- Task -->
				<ion-row class="hr-group">
					<ion-col size="12" size-sm="12" size-md="12" size-xl="3">
						<ion-list-header class="ion-no-padding">
							<ion-label color="primary">{{ 'Task' | translate }}</ion-label>
						</ion-list-header>
					</ion-col>
					<ion-col size="12" size-sm="12" size-xl="8">
						<div class="c-control">
							<span class="no-warp">
								<input (change)="saveChange()" class="c-checkbox" id="isActivated" formControlName="isActivated" type="checkbox" />
								<label class="c-label checkbox" for="isActivated"
									>{{ 'Activate' | translate }}
									<span
										*ngIf="
											!formGroup.controls.isActivated.valid &&
											!formGroup.controls.isActivated.pending &&
											(formGroup.controls.isActivated.dirty || submitAttempt)
										"
										ion-text
										color="danger"
										>(*)</span
									>
								</label>
							</span>
						</div>
						<div class="c-control">
							<span class="no-warp">
								<input (change)="saveChange()" class="c-checkbox" id="IsEnablePacking" formControlName="IsEnablePacking" type="checkbox" />
								<label class="c-label checkbox" for="IsEnablePacking"
									>{{ 'Enable packing' | translate }}
									<span
										*ngIf="
											!formGroup.controls.IsEnablePacking.valid &&
											!formGroup.controls.IsEnablePacking.pending &&
											(formGroup.controls.IsEnablePacking.dirty || submitAttempt)
										"
										ion-text
										color="danger"
										>(*)</span
									>
								</label>
							</span>
							<span class="no-warp">
								<input (change)="saveChange()" class="c-checkbox" id="IsQCInspectAtPack" formControlName="IsQCInspectAtPack" type="checkbox" />
								<label class="c-label checkbox" for="IsQCInspectAtPack"
									>{{ 'QC Inspect at pack' | translate }}
									<span
										*ngIf="
											!formGroup.controls.IsQCInspectAtPack.valid &&
											!formGroup.controls.IsQCInspectAtPack.pending &&
											(formGroup.controls.IsQCInspectAtPack.dirty || submitAttempt)
										"
										ion-text
										color="danger"
										>(*)</span
									>
								</label>
							</span>
						</div>
						<div class="c-control">
							<span class="no-warp">
								<input
									(change)="saveChange()"
									class="c-checkbox"
									id="IsAllowMultiZoneRainbowPallet"
									formControlName="IsAllowMultiZoneRainbowPallet"
									type="checkbox"
								/>
								<label class="c-label checkbox" for="IsAllowMultiZoneRainbowPallet"
									>{{ 'Allow multi zone rainbow pallet' | translate }}
									<span
										*ngIf="
											!formGroup.controls.IsAllowMultiZoneRainbowPallet.valid &&
											!formGroup.controls.IsAllowMultiZoneRainbowPallet.pending &&
											(formGroup.controls.IsAllowMultiZoneRainbowPallet.dirty || submitAttempt)
										"
										ion-text
										color="danger"
										>(*)</span
									>
								</label>
							</span>
						</div>
						<div class="c-control">
							<span class="no-warp">
								<input (change)="saveChange()" class="c-checkbox" id="AllowCommingledLPN" formControlName="AllowCommingledLPN" type="checkbox" />
								<label class="c-label checkbox" for="AllowCommingledLPN"
									>{{ 'Allow commingled LPN' | translate }}
									<span
										*ngIf="
											!formGroup.controls.AllowCommingledLPN.valid &&
											!formGroup.controls.AllowCommingledLPN.pending &&
											(formGroup.controls.AllowCommingledLPN.dirty || submitAttempt)
										"
										ion-text
										color="danger"
										>(*)</span
									>
								</label>
							</span>
						</div>
					</ion-col>
					<ion-col size="12" size-sm="6" size-xl="4" offset-xl="3">
						<div class="c-control">
							<label class="c-label" for="DefaultItemRotation"
								>{{ 'Default item rotation' | translate }}
								<span
									*ngIf="
										!formGroup.controls.DefaultItemRotation.valid &&
										!formGroup.controls.DefaultItemRotation.pending &&
										(formGroup.controls.DefaultItemRotation.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<ng-select (change)="saveChange()" class="c-input" formControlName="DefaultItemRotation">
								<ng-option value="Lot">
									<span>Lot</span>
								</ng-option>
							</ng-select>
						</div>
						<div class="c-control">
							<label class="c-label" for="DefaultRotation"
								>{{ 'Default rotation' | translate }}
								<span
									*ngIf="
										!formGroup.controls.DefaultRotation.valid &&
										!formGroup.controls.DefaultRotation.pending &&
										(formGroup.controls.DefaultRotation.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>

							<ng-select (change)="saveChange()" class="c-input" formControlName="DefaultRotation">
								<ng-option value="FIFO">{{ 'FIFO' | translate }}</ng-option>
								<ng-option value="LIFO">{{ 'LIFO' | translate }}</ng-option>
							</ng-select>
						</div>

						<app-form-control
							*ngIf="!isChangingWarehouse"
							(change)="saveChange()"
							[field]="{
								id: 'DefaultAllocationStrategy',
								label: 'Allocation strategy',
								type: 'ng-select',
								dataSource: allocationStrategyList,
								bindValue: 'Id',
								form: formGroup,
							}"
						>
						</app-form-control>

						<app-form-control
							*ngIf="!isChangingWarehouse"
							(change)="saveChange()"
							[field]="{
								id: 'DefaultPutawayStrategy',
								label: 'Putaway strategy',
								type: 'ng-select',
								dataSource: putawayStrategyList,
								bindValue: 'Id',
								form: formGroup,
							}"
						>
						</app-form-control>
					</ion-col>
					<ion-col size="12" size-sm="6" size-xl="4">
						<div class="c-control">
							<label class="c-label" for="DefaultInboundQCLocation"
								>{{ 'Default inbound QC location' | translate }}
								<span
									*ngIf="
										!formGroup.controls.DefaultInboundQCLocation.valid &&
										!formGroup.controls.DefaultInboundQCLocation.pending &&
										(formGroup.controls.DefaultInboundQCLocation.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<ng-select
								class="c-input"
								(change)="saveChange()"
								labelForId="DefaultInboundQCLocation"
								formControlName="DefaultInboundQCLocation"
								[items]="locationList"
								[virtualScroll]="true"
								bindLabel="Name"
								bindValue="Id"
								placeholder="{{ 'Search' | translate }}"
							>
								<ng-template ng-option-tmp let-i="item" let-search="searchTerm">
									<div *ngIf="i">
										<div>
											<span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span>
											<span [ngOptionHighlight]="search">{{ i.Name }}</span>
										</div>
									</div>
								</ng-template>
							</ng-select>
						</div>
						<div class="c-control">
							<label class="c-label" for="DefaultOutboundQCLocation"
								>{{ 'Default outbound QC location' | translate }}
								<span
									*ngIf="
										!formGroup.controls.DefaultOutboundQCLocation.valid &&
										!formGroup.controls.DefaultOutboundQCLocation.pending &&
										(formGroup.controls.DefaultOutboundQCLocation.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<ng-select
								class="c-input"
								(change)="saveChange()"
								labelForId="DefaultOutboundQCLocation"
								formControlName="DefaultOutboundQCLocation"
								[items]="locationList"
								[virtualScroll]="true"
								bindLabel="Name"
								bindValue="Id"
								placeholder="{{ 'Search' | translate }}"
							>
								<ng-template ng-option-tmp let-i="item" let-search="searchTerm">
									<div *ngIf="i">
										<div>
											<span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span>
											<span [ngOptionHighlight]="search">{{ i.Name }}</span>
										</div>
									</div>
								</ng-template>
							</ng-select>
						</div>
						<div class="c-control">
							<label class="c-label" for="DefaultReturnsReceiptLocation"
								>{{ 'Default returns receipt location' | translate }}
								<span
									*ngIf="
										!formGroup.controls.DefaultReturnsReceiptLocation.valid &&
										!formGroup.controls.DefaultReturnsReceiptLocation.pending &&
										(formGroup.controls.DefaultReturnsReceiptLocation.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<ng-select
								class="c-input"
								(change)="saveChange()"
								labelForId="DefaultReturnsReceiptLocation"
								formControlName="DefaultReturnsReceiptLocation"
								[items]="locationList"
								[virtualScroll]="true"
								bindLabel="Name"
								bindValue="Id"
								placeholder="{{ 'Search' | translate }}"
							>
								<ng-template ng-option-tmp let-i="item" let-search="searchTerm">
									<div *ngIf="i">
										<div>
											<span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span>
											<span [ngOptionHighlight]="search">{{ i.Name }}</span>
										</div>
									</div>
								</ng-template>
							</ng-select>
						</div>
						<div class="c-control">
							<label class="c-label" for="DefaultPackingLocation"
								>{{ 'Default packing location' | translate }}
								<span
									*ngIf="
										!formGroup.controls.DefaultPackingLocation.valid &&
										!formGroup.controls.DefaultPackingLocation.pending &&
										(formGroup.controls.DefaultPackingLocation.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<ng-select
								class="c-input"
								(change)="saveChange()"
								labelForId="DefaultPackingLocation"
								formControlName="DefaultPackingLocation"
								[items]="locationList"
								[virtualScroll]="true"
								bindLabel="Name"
								bindValue="Id"
								placeholder="{{ 'Search' | translate }}"
							>
								<ng-template ng-option-tmp let-i="item" let-search="searchTerm">
									<div *ngIf="i">
										<div>
											<span *ngFor="let l of i.levels">&nbsp;&nbsp;&nbsp;</span>
											<span [ngOptionHighlight]="search">{{ i.Name }}</span>
										</div>
									</div>
								</ng-template>
							</ng-select>
						</div>
					</ion-col>
				</ion-row>

				<ion-row class="hr-group" style="border: none">
					<ion-col size="12" size-sm="12" size-md="12" size-xl="3">
						<ion-list-header class="ion-no-padding">
							<ion-label color="primary">{{ 'Label' | translate }}</ion-label>
						</ion-list-header>
					</ion-col>
					<ion-col size="12" size-sm="6" size-xl="4">
						<div class="c-control">
							<label class="c-label" for="LPNBarcodeSymbology"
								>{{ 'LPN barcode symbology' | translate }}
								<span
									*ngIf="
										!formGroup.controls.LPNBarcodeSymbology.valid &&
										!formGroup.controls.LPNBarcodeSymbology.pending &&
										(formGroup.controls.LPNBarcodeSymbology.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>

							<ng-select (change)="saveChange()" class="c-input" formControlName="LPNBarcodeSymbology">
								<ng-option value="Code39">
									{{ 'Code 39' | translate }}
								</ng-option>
								<ng-option value="Code128">
									{{ 'Code 128' | translate }}
								</ng-option>
								<ng-option value="DataMatrix">
									{{ 'Data matrix' | translate }}
								</ng-option>
								<ng-option value="QRCode">
									{{ 'QR code' | translate }}
								</ng-option>
							</ng-select>
						</div>
						<div class="c-control">
							<label class="c-label" for="LPNBarcodeFormat"
								>{{ 'LPN barcode format' | translate }}
								<span
									*ngIf="
										!formGroup.controls.LPNBarcodeFormat.valid &&
										!formGroup.controls.LPNBarcodeFormat.pending &&
										(formGroup.controls.LPNBarcodeFormat.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<ng-select (change)="saveChange()" class="c-input" formControlName="LPNBarcodeFormat">
								<ng-option value="SSCC">{{ 'SSCC' | translate }}</ng-option>
								<ng-option value="UserDefined">
									{{ 'User defined' | translate }}
								</ng-option>
							</ng-select>
						</div>
						<div class="c-control">
							<label class="c-label" for="LPNLength"
								>{{ 'LPN length' | translate }}
								<span
									*ngIf="!formGroup.controls.LPNLength.valid && !formGroup.controls.LPNLength.pending && (formGroup.controls.LPNLength.dirty || submitAttempt)"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<input
								(change)="saveChange()"
								class="c-input"
								id="LPNLength"
								formControlName="LPNLength"
								mask="separator.9"
								thousandSeparator=","
								[allowNegativeNumbers]="false"
								type="tel"
							/>
						</div>
						<div class="c-control">
							<label class="c-label" for="LPNStartNumber"
								>{{ 'LPN start number' | translate }}
								<span
									*ngIf="
										!formGroup.controls.LPNStartNumber.valid &&
										!formGroup.controls.LPNStartNumber.pending &&
										(formGroup.controls.LPNStartNumber.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<input
								(change)="saveChange()"
								class="c-input"
								id="LPNStartNumber"
								formControlName="LPNStartNumber"
								mask="separator.9"
								thousandSeparator=","
								[allowNegativeNumbers]="false"
								type="tel"
							/>
						</div>
						<div class="c-control">
							<label class="c-label" for="LPNNextNumber"
								>{{ 'LPN next number' | translate }}
								<span
									*ngIf="
										!formGroup.controls.LPNNextNumber.valid &&
										!formGroup.controls.LPNNextNumber.pending &&
										(formGroup.controls.LPNNextNumber.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<input
								(change)="saveChange()"
								class="c-input"
								id="LPNNextNumber"
								formControlName="LPNNextNumber"
								mask="separator.9"
								thousandSeparator=","
								[allowNegativeNumbers]="false"
								type="tel"
							/>
						</div>
						<div class="c-control">
							<label class="c-label" for="LPNRollbackNumber"
								>{{ 'LPN rollback number' | translate }}
								<span
									*ngIf="
										!formGroup.controls.LPNRollbackNumber.valid &&
										!formGroup.controls.LPNRollbackNumber.pending &&
										(formGroup.controls.LPNRollbackNumber.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<input
								(change)="saveChange()"
								class="c-input"
								id="LPNRollbackNumber"
								formControlName="LPNRollbackNumber"
								mask="separator.9"
								thousandSeparator=","
								[allowNegativeNumbers]="false"
								type="tel"
							/>
						</div>
					</ion-col>
					<ion-col size="12" size-sm="6" size-xl="4">
						<div class="c-control">
							<label class="c-label" for="CaseLabelType"
								>Ca{{ 'Case label type' | translate }}
								<span
									*ngIf="
										!formGroup.controls.CaseLabelType.valid &&
										!formGroup.controls.CaseLabelType.pending &&
										(formGroup.controls.CaseLabelType.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<ng-select (change)="saveChange()" class="c-input" formControlName="CaseLabelType">
								<ng-option value="STD">{{ 'STD' | translate }}</ng-option>
								<ng-option value="SGTIN">{{ 'SGTIN' | translate }}</ng-option>
								<ng-option value="SSCC">{{ 'SSCC' | translate }}</ng-option>
							</ng-select>
						</div>
						<div class="c-control">
							<label class="c-label" for="ApplicationID"
								>{{ 'Application ID' | translate }}
								<span
									*ngIf="
										!formGroup.controls.ApplicationID.valid &&
										!formGroup.controls.ApplicationID.pending &&
										(formGroup.controls.ApplicationID.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<input (change)="saveChange()" class="c-input" id="ApplicationID" formControlName="ApplicationID" />
						</div>
						<div class="c-control">
							<label class="c-label" for="SSCCFirstDigit"
								>{{ 'SSCC 1st digit' | translate }}
								<span
									*ngIf="
										!formGroup.controls.SSCCFirstDigit.valid &&
										!formGroup.controls.SSCCFirstDigit.pending &&
										(formGroup.controls.SSCCFirstDigit.dirty || submitAttempt)
									"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<input (change)="saveChange()" class="c-input" id="SSCCFirstDigit" formControlName="SSCCFirstDigit" />
						</div>
						<div class="c-control">
							<label class="c-label" for="UCCVendor"
								>{{ 'UCC vendor #' | translate }}
								<span
									*ngIf="!formGroup.controls.UCCVendor.valid && !formGroup.controls.UCCVendor.pending && (formGroup.controls.UCCVendor.dirty || submitAttempt)"
									ion-text
									color="danger"
									>(*)</span
								>
							</label>
							<input (change)="saveChange()" class="c-input" id="UCCVendor" formControlName="UCCVendor" />
						</div>
					</ion-col>
				</ion-row>
			</form>
		</ion-grid>
	</div>
</div>
